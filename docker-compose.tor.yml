# Routes all traffic through Tor - requires NET_ADMIN capability
services:
  calibre-web-automated-book-downloader-tor:
    image: ghcr.io/calibrain/calibre-web-automated-book-downloader-tor:latest
    environment:
      FLASK_PORT: 8084
      TZ: America/New_York
      USING_TOR: true
      # CWA_DB_PATH: /auth/app.db
    cap_add:
      - NET_ADMIN
      - NET_RAW
    ports:
      - 8084:8084
    restart: unless-stopped
    volumes:
      - /tmp/data/calibre-web/ingest:/cwa-book-ingest
      - /path/to/config:/config
      # - /cwa/config/path/app.db:/auth/app.db:ro
      # If using Prowlarr with external download clients (qBittorrent, Deluge, Transmission, NZBGet, SABnzbd):
      # - /path/to/downloads:/downloads # MUST match the container path used by your download client
